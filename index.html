<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎥 글로벌 인기 영상 & 트렌드 검색기</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 헤더 -->
    <header>
        <h1>🌍 YouTube 인기 영상 & 트렌드 검색</h1>
        <p>전 세계 유튜브 인기 영상과 트렌드를 한눈에!</p>
    </header>

    <!-- 탭 네비게이션 -->
    <nav class="tabs">
        <button class="tab-btn active" data-tab="youtube">🔥 인기 영상</button>
        <button class="tab-btn" data-tab="search">🔍 영상 검색</button>
        <button class="tab-btn" data-tab="trends">📈 트렌드</button>
    </nav>

    <!-- 1️⃣ YouTube 인기 영상 탭 -->
    <div id="youtube-tab" class="tab-content active">
        <div class="controls">
            <div class="control-group">
                <label for="country-select">🌍 국가</label>
                <select id="country-select">
                    <option value="KR">🇰🇷 한국</option>
                    <option value="US">🇺🇸 미국</option>
                    <option value="JP">🇯🇵 일본</option>
                    <option value="GB">🇬🇧 영국</option>
                    <option value="IN">🇮🇳 인도</option>
                    <option value="BR">🇧🇷 브라질</option>
                    <option value="FR">🇫🇷 프랑스</option>
                    <option value="DE">🇩🇪 독일</option>
                </select>
            </div>

            <div class="control-group">
                <label for="category-select">📂 카테고리</label>
                <select id="category-select">
                    <option value="">전체</option>
                    <option value="10">음악</option>
                    <option value="20">게임</option>
                    <option value="17">스포츠</option>
                    <option value="24">엔터테인먼트</option>
                    <option value="28">과학/기술</option>
                    <option value="22">브이로그</option>
                    <option value="23">코미디</option>
                    <option value="25">뉴스/정치</option>
                    <option value="26">교육</option>
                </select>
            </div>

            <div class="control-group">
                <label for="sort-select">📊 정렬</label>
                <select id="sort-select">
                    <option value="popularity">인기순</option>
                    <option value="views">조회수순</option>
                    <option value="likes">좋아요순</option>
                    <option value="comments">댓글순</option>
                    <option value="recent">최신순</option>
                </select>
            </div>
        </div>

        <div class="button-group">
            <button onclick="searchYouTube()" class="search-btn">🔍 검색</button>
            <button onclick="resetFilters()" class="reset-btn">🔄 초기화</button>
        </div>

        <div id="current-filter"></div>
        <div id="youtube-results" class="results"></div>
    </div>

    <!-- 2️⃣ YouTube 영상 검색 탭 -->
    <div id="search-tab" class="tab-content">
        <div class="search-header">
            <h2>🔍 YouTube 영상 검색</h2>
            <p>원하는 키워드로 전 세계 유튜브 영상을 검색하세요!</p>
        </div>

        <div class="search-input-container">
            <input 
                type="text" 
                id="search-keyword" 
                placeholder="검색어를 입력하세요 (예: BTS, 요리 레시피, Minecraft...)"
                maxlength="100"
            >
            <button onclick="performSearch()" class="main-search-btn">🔍 검색</button>
        </div>

        <div class="controls">
            <div class="control-group">
                <label for="search-country-select">🌍 국가</label>
                <select id="search-country-select">
                    <option value="KR">🇰🇷 한국</option>
                    <option value="US">🇺🇸 미국</option>
                    <option value="JP">🇯🇵 일본</option>
                    <option value="GB">🇬🇧 영국</option>
                    <option value="IN">🇮🇳 인도</option>
                    <option value="BR">🇧🇷 브라질</option>
                    <option value="FR">🇫🇷 프랑스</option>
                    <option value="DE">🇩🇪 독일</option>
                </select>
            </div>

            <div class="control-group">
                <label for="search-category-select">📂 카테고리</label>
                <select id="search-category-select">
                    <option value="">전체</option>
                    <option value="10">음악</option>
                    <option value="20">게임</option>
                    <option value="17">스포츠</option>
                    <option value="24">엔터테인먼트</option>
                    <option value="28">과학/기술</option>
                    <option value="22">브이로그</option>
                    <option value="23">코미디</option>
                    <option value="25">뉴스/정치</option>
                    <option value="26">교육</option>
                </select>
            </div>

            <div class="control-group">
                <label for="search-time-select">📅 기간</label>
                <select id="search-time-select">
                    <option value="all">전체 기간</option>
                    <option value="today">오늘</option>
                    <option value="week">이번 주</option>
                    <option value="month">이번 달</option>
                    <option value="year">올해</option>
                </select>
            </div>

            <div class="control-group">
                <label for="search-views-select">👁️ 최소 조회수</label>
                <select id="search-views-select">
                    <option value="0">제한 없음</option>
                    <option value="1000">1천 이상</option>
                    <option value="10000">1만 이상</option>
                    <option value="100000">10만 이상</option>
                    <option value="1000000">100만 이상</option>
                    <option value="10000000">1,000만 이상</option>
                    <option value="100000000">1억 이상</option>
                </select>
            </div>

            <div class="control-group">
                <label for="search-sort-select">📊 정렬</label>
                <select id="search-sort-select">
                    <option value="relevance">관련성</option>
                    <option value="viewCount">조회수</option>
                    <option value="date">최신순</option>
                    <option value="rating">평점</option>
                </select>
            </div>
        </div>

        <div id="search-filter-info"></div>
        <div id="search-results" class="results"></div>
    </div>

    <!-- 3️⃣ Google Trends 탭 -->
    <div id="trends-tab" class="tab-content">
        <div class="controls">
            <div class="control-group">
                <label for="trends-country-select">🌍 국가 선택</label>
                <select id="trends-country-select">
                    <option value="KR">🇰🇷 한국</option>
                    <option value="US">🇺🇸 미국</option>
                    <option value="JP">🇯🇵 일본</option>
                    <option value="GB">🇬🇧 영국</option>
                    <option value="IN">🇮🇳 인도</option>
                    <option value="BR">🇧🇷 브라질</option>
                    <option value="FR">🇫🇷 프랑스</option>
                    <option value="DE">🇩🇪 독일</option>
                </select>
            </div>
        </div>

        <div class="button-group">
            <button onclick="searchTrends()" class="search-btn">📈 트렌드 보기</button>
        </div>

        <div id="trends-results"></div>
    </div>

    <!-- JavaScript -->
    <script src="config.js"></script>
    <script src="js/youtube.js"></script>
    <script src="js/search.js"></script>
    <script src="js/trends.js"></script>

    <script>
        // 탭 전환 기능
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', () => {
                const tabName = button.dataset.tab;
                
                // 모든 탭 버튼과 콘텐츠 비활성화
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // 선택된 탭 활성화
                button.classList.add('active');
                document.getElementById(tabName + '-tab').classList.add('active');
            });
        });

        // 검색창 Enter 키 지원
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('search-keyword');
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
        });
    </script>
</body>
</html>
